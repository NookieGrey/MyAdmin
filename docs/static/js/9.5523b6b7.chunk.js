(this.webpackJsonpMyAdmin=this.webpackJsonpMyAdmin||[]).push([[9],{676:function(e,t,a){},765:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return V}));a(676);var n=a(0),r=a.n(n),c=a(12),l=(a(551),a(561)),o=a.n(l),i=(a(678),a(690)),u=a.n(i),s=(a(479),a(454)),m=a.n(s),d=a(778),p=a(129),b=(a(682),a(684)),f=a.n(b),E=a(66),h=a.n(E),v=a(81),g=a(88),y=a(567),k=a(136),x=a(55),O=a(26),j=a(71);function w(e){return Object(j.a)({url:"/users/list?page=".concat(e||1)})}function N(e){return Object(j.a)({url:"/users/item/".concat(e)})}function C(e){return Object(j.a)({url:"/users/item",method:"POST",data:e})}function A(e){return Object(j.a)({url:"/users/item/".concat(e),method:"DELETE"})}var S=a(23);function D(e){var t=Object(n.useState)({name:"",role:null}),a=Object(y.a)(t,2),r=a[0],c=a[1];function l(){return(l=Object(g.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,N(e);case 4:a=t.sent,c(a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var o=Object(k.useAsync)((function(){return l.apply(this,arguments)}),[e]);return{item:r,loading:o.loading,error:o.error}}function L(){var e=function(){var e=Object(n.useState)({totalCount:0,list:[],current:1}),t=Object(y.a)(e,2),a=t[0],r=t[1];function c(e){return l.apply(this,arguments)}function l(){return(l=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:a=e.sent,r(Object(v.a)(Object(v.a)({},a),{},{current:t||1}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var o=Object(k.useAsync)(c,[]),i=o.loading,u=o.error,s=Object(k.useAsyncCallback)(c),m=s.execute,d=s.loading,p=s.error;return Object(v.a)(Object(v.a)({},a),{},{loading:i||d,error:u||p,onUpdateList:m})}(),t=e.list,a=e.totalCount,c=e.current,l=e.loading,i=e.onUpdateList,s=function(e){function t(){return(t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(a);case 2:return t.next=4,e();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var a=Object(k.useAsyncCallback)((function(e){return t.apply(this,arguments)})),n=a.execute;return{onDelete:function(e){f.a.confirm({content:"Are you sure to delete this item?",onOk:function(){return n(e)},okType:"danger",okText:"Delete",maskClosable:!0})},loading:a.loading,error:a.error}}((function(){return i(c)})).onDelete,b=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(p.a,{type:"link",to:S.b+S.g+S.w+"/"+t.id},e)}},{title:"Role",dataIndex:"role",key:"role",responsive:["sm"]},{title:"Actions",dataIndex:"id",key:"action",align:"right",render:function(e){var t=r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{to:S.b+S.g+S.e+"/"+e},"Edit"),r.a.createElement(p.a,{type:"danger",onClick:function(){return s(e)}},"Delete"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{overlay:t,trigger:["click"],className:"table-list-dropdown"},r.a.createElement(p.a,{type:"link",onClick:function(e){return e.preventDefault()}},r.a.createElement(d.a,null))),r.a.createElement("div",{className:"table-list-buttons"},t))}}];return r.a.createElement("div",{className:"table-page"},r.a.createElement(p.a,{to:S.b+S.g+S.e+"/0",linkClassName:"new-item"},"New Employee"),r.a.createElement(u.a,{dataSource:t,columns:b,loading:l,rowKey:"id",pagination:!1,scroll:{y:"auto"}}),r.a.createElement(o.a,{current:c,total:a,onChange:i,showSizeChanger:!1,className:"table-pagination"}))}a(140);var T=a(98),I=a.n(T),F=a(63);function J(e){var t=D(e.match.params.id),a=t.item;return t.loading?r.a.createElement(F.a,null):r.a.createElement("div",{className:"user-view-page"},r.a.createElement("div",{className:"buttons"},r.a.createElement(p.a,{to:S.b+S.g+S.l},"List"),r.a.createElement(p.a,{to:S.b+S.g+S.e+"/"+a.id},"Edit")),r.a.createElement("div",{className:"body"},r.a.createElement("h2",null,a.name),r.a.createElement(I.a.Item,null,"role: ",a.role)))}function M(e){var t=+e.match.params.id,a=D(t),n=a.item,c=a.loading,l=function(){var e=Object(x.d)();function t(){return(t=Object(g.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(a);case 2:e(Object(O.d)(S.b+S.g+S.l));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(k.useAsyncCallback)((function(e){return t.apply(this,arguments)}))}(),o=l.execute,i=l.loading;return c?r.a.createElement(F.a,null):r.a.createElement("div",{className:"user-edit-page"},r.a.createElement("div",{className:"buttons"},r.a.createElement(p.a,{to:S.b+S.g+S.l},"List"),r.a.createElement(U,{id:t})),r.a.createElement("div",{className:"body"},r.a.createElement(p.c,{onSubmit:function(e){var a=e.name,n=e.role;return o({name:a,role:n,id:t})},initialValues:n},r.a.createElement(p.d,{name:"name",placeholder:"name"}),r.a.createElement(p.e,{name:"role",options:[{value:"admin",text:"admin"},{value:"operator",text:"operator"},{value:"manager",text:"manager"},{value:"user",text:"user"}],placeholder:"Select a role",validate:"required"}),r.a.createElement("div",{className:"submit-button-wrapper"},r.a.createElement(p.a,{htmlType:"submit",loading:i},"Save")))))}function U(e){return e.id?r.a.createElement(p.a,{to:S.b+S.g+S.w+"/"+e.id},"View"):r.a.createElement("div",null)}function V(e){return e.match.isExact?r.a.createElement(c.a,{to:e.match.path+S.l}):r.a.createElement(c.d,null,r.a.createElement(c.b,{path:e.match.path+S.l,component:L,exact:!0}),r.a.createElement(c.b,{path:e.match.path+S.w+S.k,component:J,exact:!0}),r.a.createElement(c.b,{path:e.match.path+S.e+S.k,component:M,exact:!0}),r.a.createElement(c.a,{to:S.r}))}}}]);
//# sourceMappingURL=9.5523b6b7.chunk.js.map