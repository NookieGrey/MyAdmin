{"version":3,"sources":["core/store.js","widgets/formik/Form.js","utils/validate.js","widgets/formik/Input.js","widgets/formik/Button.js","widgets/formik/Select.js","widgets/formik/Checkbox.js","api/authApi.js","constants/server.js","widgets/layout/public/PublicLayout.js","constants/routes.js","core/ErrorBoundary.js","modules/auth/AuthControl.js","modules/auth/authHooks.js","constants/roles.js","modules/global/About.js","modules/global/Page404.js","modules/global/Page500.js","modules/AllRoutes.js","core/Core.js","index.js","utils/screenSize.js","widgets/loader/Loader.js","widgets/layout/public/simplePage/SimplePage.js","utils/httpClient.js","modules/auth/authSlice.js","utils/utils.js"],"names":["history","createBrowserHistory","basename","routeMiddleware","routerMiddleware","middleware","getDefaultMiddleware","development","push","loggerMiddleware","store","configureStore","reducer","createRootReducer","reducers","combineReducers","router","connectRouter","authname","authReducer","asyncReducers","registerReducer","name","Object","prototype","hasOwnProperty","call","replaceReducer","logDebug","Form","props","onSubmit","initialValues","className","children","rulesMap","required","value","email","test","String","toLowerCase","minLength","options","length","validate","rules","Array","isArray","rule","error","type","Input","InputComponent","AntdInput","Password","TextArea","Item","showValidateSuccess","size","isPC","prefix","placeholder","Button","Link","to","linkClassName","htmlType","loading","onClick","Select","map","option","Option","key","text","Checkbox","getProfileApi","data","http","url","params","signInApi","method","signUpApi","forgotPasswordApi","resetPasswordApi","baseServerUrl","PublicLayout","fallback","ROOT_ROUTE","ROUTE_404","ROUTE_500","ABOUT_ROUTE","GLOBAL_ROUTES","SIGN_IN_ROUTE","SIGN_UP_ROUTE","FORGOT_PASSWORD_ROUTE","EMAIL_SENT_ROUTE","RESET_PASSWORD_ROUTE","PUBLIC_ROUTES","ADMIN_ROUTE","DASHBOARD_ROUTE","EMPLOYEE_ROUTE","PERMISSION_ROUTE","GOODS_ROUTE","PRICE_ROUTE","CALLS_ROUTE","LIST_ROUTE","EDIT_ROUTE","VIEW_ROUTE","ID_ROUTE","USER_ROUTE","ErrorBoundary","state","hasError","errorInfo","console","this","stack","React","Component","AuthControl","dispatch","useDispatch","useAsync","role","useSelector","auth","user","a","localStorage","getItem","profile","authActions","setProfile","useRole","pathname","useLocation","rootRoute","routes","globalRoute","RegExp","join","publicRoute","adminRoute","userRoute","Loader","About","SimplePage","title","packageJSON","version","showMainPageButton","Page404","Page500","PublicRoutes","lazy","AdminRoutes","AllRoutes","path","component","exact","Core","ReactDOM","render","document","getElementById","window","innerWidth","combineClassName","Title","Text","MainPageButton","show","instance","axios","create","baseURL","request","headers","token","response","message","initialState","action","payload","signOut","createSlice","actions","process","log","defaultClassName","additionalClassName"],"mappings":"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","file":"static/js/main.75704c5b.chunk.js","sourcesContent":["import {\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n  combineReducers\r\n} from \"@reduxjs/toolkit\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport loggerMiddleware from \"redux-logger\";\r\nimport { connectRouter, routerMiddleware } from \"connected-react-router\";\r\n\r\nimport {\r\n  reducer as authReducer,\r\n  name as authname\r\n} from \"../modules/auth/authSlice\";\r\nimport { development, logDebug } from \"../utils/utils\";\r\n\r\nexport const history = createBrowserHistory({basename: \"/MyAdmin\"});\r\n\r\nconst routeMiddleware = routerMiddleware(history);\r\nconst middleware = [...getDefaultMiddleware(), routeMiddleware];\r\n\r\nif (development) {\r\n  middleware.push(loggerMiddleware);\r\n}\r\n\r\nexport const store = configureStore({\r\n  reducer: createRootReducer(),\r\n  middleware\r\n});\r\n\r\nfunction createRootReducer(reducers) {\r\n  return combineReducers({\r\n    router: connectRouter(history),\r\n    [authname]: authReducer,\r\n    ...reducers\r\n  });\r\n}\r\n\r\nconst asyncReducers = {};\r\n\r\nexport function registerReducer(name, reducer) {\r\n  if (!name || !reducer) return;\r\n\r\n  if (Object.prototype.hasOwnProperty.call(asyncReducers, name)) return;\r\n\r\n  asyncReducers[name] = reducer;\r\n  store.replaceReducer(createRootReducer(asyncReducers));\r\n\r\n  logDebug(\"registered reducer: \" + name);\r\n}\r\n","import React from 'react';\r\n\r\nimport {Formik} from \"formik\";\r\n\r\nimport {Form as AntdForm} from \"formik-antd\";\r\n\r\nexport function Form(props) {\r\n  return (\r\n    <Formik\r\n      onSubmit={props.onSubmit}\r\n      initialValues={props.initialValues}\r\n    >\r\n      <AntdForm className={props.className}>\r\n        {props.children}\r\n      </AntdForm>\r\n    </Formik>\r\n  );\r\n}","const rulesMap = {\r\n  required: value => !value && \"fill this input, please\",\r\n  email: value => {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    const isEmail = re.test(String(value).toLowerCase());\r\n    if (!isEmail) return \"Invalid email address\";\r\n  },\r\n  minLength: options => value => value.length < options.length && `min length ${options.length}`\r\n}\r\n\r\nexport function validate(rules) {\r\n  return value => {\r\n    if (!rules) return false;\r\n\r\n    if (Array.isArray(rules)) {\r\n      for (let rule of rules) {\r\n\r\n        if (typeof rule === \"object\") {\r\n          let error = rulesMap[rule.type](rule)(value);\r\n          if (error) return error;\r\n        }\r\n\r\n        if (typeof rule === \"string\") {\r\n          let error = rulesMap[rule](value);\r\n          if (error) return error;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (typeof rules === \"string\") {\r\n      return rulesMap[rules](value);\r\n    }\r\n  }\r\n}","import React from 'react';\r\n\r\nimport {Input as AntdInput} from \"formik-antd\";\r\nimport {Form as AntdForm} from \"formik-antd\";\r\n\r\nimport {validate} from \"../../utils/validate\";\r\nimport {isPC} from \"../../utils/screenSize\";\r\n\r\nexport function Input(props) {\r\n  let InputComponent = AntdInput;\r\n  if (props.type === \"password\") InputComponent = AntdInput.Password;\r\n  if (props.type === \"textarea\") InputComponent = AntdInput.TextArea;\r\n\r\n  return (\r\n    <AntdForm.Item\r\n      name={props.name}\r\n      showValidateSuccess={!!props.validate}\r\n      validate={validate(props.validate)}\r\n    >\r\n      <InputComponent\r\n        size={!isPC() && \"large\"}\r\n        name={props.name}\r\n        prefix={props.prefix}\r\n        placeholder={props.placeholder}\r\n        type={props.type}\r\n      />\r\n    </AntdForm.Item>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport {Button as AntdButton} from \"antd\";\r\n\r\nimport {isPC} from \"../../utils/screenSize\";\r\n\r\nexport function Button(props) {\r\n  return (\r\n    <Link\r\n      to={props.to}\r\n      className={props.linkClassName}\r\n    >\r\n      <AntdButton\r\n        size={!isPC() && \"large\"}\r\n        type={props.type || \"primary\"}\r\n        htmlType={props.htmlType}\r\n        className={props.className}\r\n        loading={props.loading}\r\n        onClick={props.onClick}\r\n      >\r\n        {props.children}\r\n      </AntdButton>\r\n    </Link>\r\n  );\r\n}\r\n\r\nfunction Link(props) {\r\n  if (!props.to) return props.children;\r\n  \r\n  return (\r\n    <RouterLink\r\n      className={props.className}\r\n      to={props.to}\r\n    >\r\n      {props.children}\r\n    </RouterLink>\r\n  )\r\n}","import React from 'react';\r\n\r\nimport {Select as AntdSelect} from \"formik-antd\";\r\nimport {Form as AntdForm} from \"formik-antd\";\r\n\r\nimport {validate} from \"../../utils/validate\";\r\nimport {isPC} from \"../../utils/screenSize\";\r\n\r\nexport function Select(props) {\r\n  return (\r\n    <AntdForm.Item\r\n      name={props.name}\r\n      showValidateSuccess={!!props.validate}\r\n      validate={validate(props.validate)}\r\n    >\r\n      <AntdSelect\r\n        size={!isPC() && \"large\"}\r\n        name={props.name}\r\n        prefix={props.prefix}\r\n        placeholder={props.placeholder}\r\n      >\r\n        {(props.options || []).map(option => <AntdSelect.Option key={option.value} value={option.value}>{option.text}</AntdSelect.Option>)}\r\n      </AntdSelect>\r\n    </AntdForm.Item>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport {Checkbox as AntdCheckbox} from \"formik-antd\";\r\nimport {Form as AntdForm} from \"formik-antd\";\r\n\r\nimport {validate} from \"../../utils/validate\";\r\nimport {isPC} from \"../../utils/screenSize\";\r\n\r\nexport function Checkbox(props) {\r\n  return (\r\n    <AntdForm.Item\r\n      name={props.name}\r\n      showValidateSuccess={!!props.validate}\r\n      validate={validate(props.validate)}\r\n    >\r\n      <AntdCheckbox\r\n        size={!isPC() && \"large\"}\r\n        name={props.name}\r\n      >\r\n        {props.children}\r\n      </AntdCheckbox>\r\n    </AntdForm.Item>\r\n  );\r\n}","import {http} from \"../utils/httpClient\";\r\n\r\nexport function getProfileApi(data) {\r\n  return http({\r\n    url: \"/profile\",\r\n    params: data\r\n  });\r\n}\r\n\r\nexport function signInApi(data) {\r\n  return http({\r\n    url: \"/sign-in\",\r\n    method: \"POST\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function signUpApi(data) {\r\n  return http({\r\n    url: \"/sign-up\",\r\n    method: \"POST\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function forgotPasswordApi(data) {\r\n  return http({\r\n    url: \"/forgot-password\",\r\n    method: \"POST\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function resetPasswordApi(data) {\r\n  return http({\r\n    url: \"/reset-password\",\r\n    method: \"POST\",\r\n    data\r\n  });\r\n}\r\n","export const baseServerUrl = \"https://h2ql2kkmsbcanvgqxs6cgv5x640bhrro.lambda-url.ap-northeast-1.on.aws\";","import \"./public-layout.less\";\r\n\r\nimport React, {Suspense} from \"react\";\r\nimport {Loader} from \"../../loader/Loader\";\r\n\r\nexport function PublicLayout(props) {\r\n  return (\r\n    <div className=\"public-layout\">\r\n      <div className=\"public-layout-inner\">\r\n        <Suspense fallback={<Loader/>}>\r\n          {props.children}\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  )\r\n}","export const ROOT_ROUTE = \"/\";\r\n\r\nexport const ROUTE_404 = \"/404\";\r\nexport const ROUTE_500 = \"/500\";\r\nexport const ABOUT_ROUTE = \"/about\";\r\nexport const GLOBAL_ROUTES = [ROUTE_404, ROUTE_500, ABOUT_ROUTE];\r\n\r\nexport const SIGN_IN_ROUTE = \"/sign-in\";\r\nexport const SIGN_UP_ROUTE = \"/sign-up\";\r\nexport const FORGOT_PASSWORD_ROUTE = \"/forgot-password\";\r\nexport const EMAIL_SENT_ROUTE = \"/email-sent\";\r\nexport const RESET_PASSWORD_ROUTE = \"/reset-password\";\r\nexport const PUBLIC_ROUTES = [\r\n  SIGN_IN_ROUTE,\r\n  SIGN_UP_ROUTE,\r\n  FORGOT_PASSWORD_ROUTE,\r\n  EMAIL_SENT_ROUTE,\r\n  RESET_PASSWORD_ROUTE,\r\n];\r\n\r\nexport const ADMIN_ROUTE = \"/admin\";\r\nexport const DASHBOARD_ROUTE = \"/dashboard\";\r\nexport const EMPLOYEE_ROUTE = \"/employee\";\r\nexport const PERMISSION_ROUTE = \"/permission\";\r\nexport const GOODS_ROUTE = \"/goods\";\r\nexport const PRICE_ROUTE = \"/price\";\r\nexport const CALLS_ROUTE = \"/calls\";\r\n\r\nexport const LIST_ROUTE = \"/list\";\r\nexport const EDIT_ROUTE = \"/edit\";\r\nexport const VIEW_ROUTE = \"/view\";\r\nexport const ID_ROUTE = \"/:id\";\r\n\r\nexport const USER_ROUTE = \"/user\";","import React from \"react\";\r\n\r\n// only one usage of classes because\r\n// componentDidCatch can't be implemented by hooks yet\r\nexport class ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasError: false,\r\n      error: null\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return {\r\n      hasError: true,\r\n      error\r\n    };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // eslint-disable-next-line no-console\r\n    console.error(error, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <code>{this.state.error.stack}</code>;\r\n    }\r\n\r\n    //normal flow\r\n    return this.props.children;\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport {Loader} from \"../../widgets/loader/Loader\";\r\n\r\nimport {useLocation} from \"react-router\";\r\n\r\nimport * as routes from \"../../constants/routes\";\r\nimport {ADMIN_ROLE, USER_ROLE} from \"../../constants/roles\";\r\nimport {useRole} from \"./authHooks\";\r\n\r\nexport function AuthControl(props) {\r\n  const {role, error, loading} = useRole();\r\n\r\n  const {pathname} = useLocation();\r\n\r\n  const rootRoute = pathname === routes.ROOT_ROUTE;\r\n  const globalRoute = new RegExp(`^(${routes.GLOBAL_ROUTES.join(\"|\")})$`).test(pathname);\r\n  const publicRoute = new RegExp(`^(${routes.PUBLIC_ROUTES.join(\"|\")})$`).test(pathname);\r\n  const adminRoute = new RegExp(`^${routes.ADMIN_ROUTE}`).test(pathname);\r\n  const userRoute = new RegExp(`^${routes.USER_ROUTE}`).test(pathname);\r\n\r\n  if (error) throw error;\r\n\r\n  if (loading) return <Loader/>;\r\n\r\n  if (globalRoute) return props.children;\r\n\r\n  if (!role) {\r\n    if (adminRoute || userRoute || rootRoute) return <Redirect to={routes.SIGN_IN_ROUTE}/>;\r\n    if (publicRoute) return props.children;\r\n\r\n    return <Redirect to=\"/404\"/>;\r\n  }\r\n\r\n  //normal flow\r\n  if (adminRoute && role === ADMIN_ROLE) return props.children;\r\n  if (userRoute && role === USER_ROLE) return props.children;\r\n\r\n  if (rootRoute || publicRoute) {\r\n    if (role === ADMIN_ROLE) return <Redirect to={routes.ADMIN_ROUTE}/>;\r\n    if (role === USER_ROLE) return <Redirect to={routes.USER_ROUTE}/>;\r\n  }\r\n\r\n  // eslint-disable-next-line no-console\r\n  console.error(\"attempt to access a wrong or restricted route\");\r\n  return <Redirect to=\"/404\"/>;\r\n}\r\n","import {useAsync} from \"react-async-hook\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nimport {getProfileApi} from \"../../api/authApi\";\r\n\r\nimport {authActions} from \"./authSlice\";\r\n\r\nexport function useRole() {\r\n  let dispatch = useDispatch();\r\n  \r\n  const {loading, error} = useAsync(callback, []);\r\n  \r\n  const role = useSelector(state => state.auth.user?.role);\r\n  \r\n  return {role, loading, error};\r\n  \r\n  async function callback() {\r\n    const token = localStorage.getItem(\"token\");\r\n    \r\n    if (!token) return;\r\n    \r\n    const profile = await getProfileApi();\r\n    \r\n    dispatch(authActions.setProfile(profile));\r\n  }\r\n}","export const ADMIN_ROLE = \"admin\";\r\nexport const USER_ROLE = \"user\";","import React from 'react';\r\n\r\nimport {SimplePage} from \"../../widgets/layout/public/simplePage/SimplePage\";\r\n\r\nimport packageJSON from \"../../../package.json\";\r\n\r\nexport function About() {\r\n  return (\r\n    <SimplePage\r\n      title={`MyAdmin v${packageJSON.version}`}\r\n      text={\"Simple application template\\nDeveloped by @NookieGrey\"}\r\n      showMainPageButton\r\n    />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport {SimplePage} from \"../../widgets/layout/public/simplePage/SimplePage\";\r\n\r\nexport function Page404() {\r\n  return (\r\n    <SimplePage\r\n      title={`Error 404`}\r\n      text={\"attempt to access a wrong or restricted route\"}\r\n      showMainPageButton\r\n    />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport {SimplePage} from \"../../widgets/layout/public/simplePage/SimplePage\";\r\n\r\nexport function Page500() {\r\n  return (\r\n    <SimplePage\r\n      title=\"Error 500\"\r\n      text=\"something went wrong\"\r\n      showMainPageButton\r\n    />\r\n  );\r\n}","import React, {Suspense} from \"react\";\r\n\r\nimport {Route, Switch, Redirect} from \"react-router-dom\";\r\n\r\nimport {About} from \"./global/About\";\r\nimport {Page404} from \"./global/Page404\";\r\nimport {Page500} from \"./global/Page500\";\r\n\r\nimport * as routes from \"../constants/routes\";\r\nimport {Loader} from \"../widgets/loader/Loader\";\r\n\r\nconst PublicRoutes = React.lazy(() => import('./public/PublicRoutes'));\r\nconst AdminRoutes = React.lazy(() => import('./admin/AdminRoutes'));\r\n\r\nexport function AllRoutes() {\r\n  return (\r\n    <Suspense fallback={<Loader/>}>\r\n      <Switch>\r\n        <Route path={routes.PUBLIC_ROUTES} component={PublicRoutes}/>\r\n        <Route path={routes.ADMIN_ROUTE} component={AdminRoutes}/>\r\n        <Route exact path={routes.ABOUT_ROUTE} component={About}/>\r\n        <Route exact path={routes.ROUTE_404} component={Page404}/>\r\n        <Route exact path={routes.ROUTE_500} component={Page500}/>\r\n        <Redirect to={routes.ROUTE_404}/>\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n}\r\n","import '../assets/styles/index.less';\r\n\r\nimport React from \"react\";\r\n\r\nimport {Provider} from \"react-redux\";\r\nimport {ConnectedRouter} from \"connected-react-router\";\r\n\r\nimport {ErrorBoundary} from \"./ErrorBoundary\";\r\n\r\nimport {AuthControl} from \"../modules/auth/AuthControl\";\r\nimport {AllRoutes} from \"../modules/AllRoutes\";\r\n\r\nimport {store, history} from \"./store\";\r\n\r\nexport function Core() {\r\n  return (\r\n    <Provider store={store}>\r\n      <ConnectedRouter history={history}>\r\n        <ErrorBoundary>\r\n          <AuthControl>\r\n            <AllRoutes/>\r\n          </AuthControl>\r\n        </ErrorBoundary>\r\n      </ConnectedRouter>\r\n    </Provider>\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Core } from \"./core/Core\";\r\n\r\nReactDOM.render(<Core />, document.getElementById(\"my-admin\"));","const MAX_MOBILE_WIDTH = 600;\r\nconst MAX_TAB_WIDTH = 1200;\r\n\r\nexport function isPC() {\r\n  return window.innerWidth > MAX_TAB_WIDTH;\r\n}\r\n\r\nexport function isTab() {\r\n  return MAX_MOBILE_WIDTH > window.innerWidth && window.innerWidth <= MAX_TAB_WIDTH;\r\n}\r\n\r\nexport function isMobile() {\r\n  return window.innerWidth <= MAX_MOBILE_WIDTH;\r\n}","import React from \"react\";\r\n\r\nimport { Spin } from \"antd\";\r\n\r\nimport { combineClassName } from \"../../utils/utils\";\r\n\r\nimport \"./loader.less\";\r\n\r\nexport function Loader(props) {\r\n  return (\r\n    <div className={combineClassName(\"loader-wrapper\", props.className)}>\r\n      <Spin size=\"large\" />\r\n    </div>\r\n  );\r\n}\r\n","import \"./simple-page.less\";\r\n\r\nimport React from 'react';\r\n\r\nimport {Button} from \"../../../formik\";\r\nimport {PublicLayout} from \"../PublicLayout\";\r\n\r\nimport * as routes from \"../../../../constants/routes\";\r\n\r\nexport function SimplePage(props) {\r\n  return (\r\n    <PublicLayout>\r\n      <Title title={props.title}/>\r\n      <Text text={props.text}/>\r\n      <MainPageButton show={props.showMainPageButton}/>\r\n    </PublicLayout>\r\n  );\r\n}\r\n\r\nfunction Title(props) {\r\n  if (!props.title) return null;\r\n\r\n  return (\r\n    <h1 className=\"title\">\r\n      {props.title}\r\n    </h1>\r\n  )\r\n}\r\n\r\nfunction Text(props) {\r\n  if (!props.text) return null;\r\n\r\n  return (\r\n    <div className=\"text\">\r\n      {props.text}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction MainPageButton(props) {\r\n  if (!props.show) return null;\r\n\r\n  return (\r\n    <div className=\"main-page-button-wrapper\">\r\n      <Button to={routes.ROOT_ROUTE}>\r\n        Return to Main Page\r\n      </Button>\r\n    </div>\r\n  )\r\n}","import axios from \"axios\";\r\n\r\nimport {baseServerUrl} from \"../constants/server\";\r\nimport {notification} from \"antd\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: baseServerUrl\r\n});\r\n\r\nexport async function http(options) {\r\n  try {\r\n    const response = await instance.request({\r\n      ...options,\r\n      headers: {\r\n        token: localStorage.getItem(\"token\") || \"\",\r\n      }\r\n    })\r\n    \r\n    return response.data;\r\n    \r\n  } catch (error) {\r\n    notification.error({\r\n      message: error.response?.data.message || error.message\r\n    });\r\n  \r\n    throw error;\r\n  }\r\n}\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const name = \"auth\";\r\n\r\nexport const initialState = {\r\n  token: null,\r\n};\r\n\r\nconst reducers = {\r\n  setProfile(state, action) {\r\n    state.user = action.payload;\r\n  },\r\n  signOut: () => initialState\r\n};\r\n\r\nexport const { reducer, actions: authActions } = createSlice({\r\n  initialState,\r\n  reducers,\r\n  name\r\n});\r\n","export const development = process.env.NODE_ENV === \"development\";\r\nexport const production = process.env.NODE_ENV === \"production\";\r\n\r\nexport function logDebug(message) {\r\n    // eslint-disable-next-line no-console\r\n    if (development) console.log(\"%c\" + message, \"color: blue;\");\r\n}\r\n\r\nexport function combineClassName(defaultClassName, additionalClassName) {\r\n    if (!additionalClassName) return defaultClassName;\r\n\r\n    return `${defaultClassName} ${additionalClassName}`\r\n}\r\n\r\n"],"sourceRoot":""}